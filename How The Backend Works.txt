**Bootstrap**- Creates the app and enables CORS in `backend/src/main.ts:5–7`- Listens on `process.env.PORT || 3001` in `backend/src/main.ts:7`- Starts with `npm run start:dev` defined in `backend/package.json:12`**Composition**- Root module wires feature modules in `backend/src/app.module.ts:9–15`- Provides the database connector (with fallback) so services can use it**Data Access**- Prisma service initializes and sets a `connected` flag in `backend/src/database/prisma.service.ts:1–15`- If DB connection fails, services use in-memory mock data from `backend/src/database/mock.ts:1–29`**Endpoints**- Nodes  - `POST /nodes`, `PATCH /nodes/:id`, `GET /nodes/:id` in `backend/src/modules/nodes/nodes.controller.ts:8–21`  - Service methods in `backend/src/modules/nodes/nodes.service.ts:8–27` use DB when `connected`, otherwise return mock responses- Paths  - `POST /paths/attach`, `GET /paths/resolve/:path(*)` in `backend/src/modules/paths/paths.controller.ts:8–16`  - Attach computes child paths from parent paths in `backend/src/modules/paths/paths.service.ts:9–29`  - Resolve returns `{ node, ancestors, children, path }` in `backend/src/modules/paths/paths.service.ts:35–66` using ltree (DB) or traversal (mock)- Spaces  - `POST /spaces`, `GET /spaces/:id/tree` in `backend/src/modules/spaces/spaces.controller.ts:8–16`  - Service builds a recursive tree in `backend/src/modules/spaces/spaces.service.ts:8–33` (DB) or `backend/src/modules/spaces/spaces.service.ts:34–35` (mock)- Nodetypes  - `GET /nodetypes`, `GET /nodetypes/:key` in `backend/src/modules/nodetypes/nodetypes.controller.ts:8–16`  - Service queries DB or returns empty fallback in `backend/src/modules/nodetypes/nodetypes.service.ts:8–20`- Search  - `GET /search?q=...` in `backend/src/modules/search/search.controller.ts:8–15`  - Service performs `tsvector` search when DB is available, or title contains in `backend/src/modules/search/search.service.ts:9–20`**Graph & Paths**- Prisma schema models the graph: `backend/prisma/schema.prisma`  - `Space`, `Nodetype`, `Node`, `Edge` (parent→child with label), `Path` (ltree)- Migration enables ltree and search:  - `backend/prisma/migrations/0001_init.sql` adds `ltree` for `Path.path`, a `tsvector` column/trigger on `Node`, and indexes- Attach logic writes `Edge` and derives `Path` entries so a canonical node can be reached from multiple paths**Runtime Behavior**- If Postgres/Prisma is connected:  - Services read/write real records and run ltree/tsvector queries- If not:  - Services return mock-based results so the API stays usable in development- Client can consume these endpoints; in the client, `NEXT_PUBLIC_USE_MOCK=false` makes calls go to `NEXT_PUBLIC_API_BASE` (e.g., `http://localhost:3001`)**Environment**- The server reads `process.env.PORT` in `backend/src/main.ts:7`; a file like `backend/src/.env` isn’t automatically loaded- To load `.env`, either:  - Export variables in your shell before `npm run start:dev`, or  - Add a loader (e.g., `dotenv` or Nest `ConfigModule`) to read the file at startup**Summary**- NestJS organizes controllers/services per domain (`nodes`, `paths`, `spaces`, `nodetypes`, `search`)- `PrismaService` mediates DB access and exposes a simple “connected vs fallback” switch- DAG/path operations are implemented in services, using ltree when available and mock traversal otherwise- Start the backend separately; point the client to it for live data, or keep mock for offline dev as needed